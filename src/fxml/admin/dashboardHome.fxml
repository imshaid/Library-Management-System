<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>
<?import javafx.geometry.Pos?>
<?import javafx.scene.chart.LineChart?>
<?import javafx.scene.chart.NumberAxis?>
<?import javafx.scene.chart.XYChart?>

<AnchorPane xmlns="http://javafx.com/javafx/24"
    xmlns:fx="http://javafx.com/fxml/1"
    fx:controller="controller.AdminDashboardHomeController"
    prefWidth="1000" prefHeight="800"
    styleClass="dashboard-content">

    <VBox spacing="20" AnchorPane.topAnchor="40" AnchorPane.leftAnchor="40"
        AnchorPane.rightAnchor="40" AnchorPane.bottomAnchor="0">

        <!-- Left Side: Title -->
        <VBox alignment="CENTER" HBox.hgrow="ALWAYS" translateY="-20">
            <Label fx:id="dashboardTitleLabel"
                style="-fx-font-size: 28px; -fx-font-weight: bold; -fx-text-fill: #2c3e50;" />
        </VBox>

        <!-- Main Content -->
        <HBox spacing="20" HBox.hgrow="ALWAYS" translateY="-20">

            <!-- Left: 2x2 Stat Cards (2/3 width) -->
            <VBox VBox.vgrow="ALWAYS">
                <GridPane hgap="20" vgap="20" prefWidth="660" prefHeight="270">
                    <columnConstraints>
                        <ColumnConstraints percentWidth="50" />
                        <ColumnConstraints percentWidth="50" />
                    </columnConstraints>
                    <rowConstraints>
                        <RowConstraints percentHeight="50" />
                        <RowConstraints percentHeight="50" />
                    </rowConstraints>

                    <!-- Total Books -->
                    <VBox styleClass="states-card"
                        style="-fx-background-color: #457B7A; -fx-padding: 20;"
                        GridPane.rowIndex="0" GridPane.columnIndex="0" alignment="TOP_LEFT">
                        <Label fx:id="totalBooksLabel" text="0"
                            style="-fx-font-size: 44px; -fx-font-weight: bold; -fx-text-fill: #fafafc;" />
                        <Pane VBox.vgrow="ALWAYS" />
                        <Label text="Total Books"
                            style="-fx-font-size: 20px; -fx-font-weight: semi-bold; -fx-text-fill: #fafafc;" />
                    </VBox>

                    <!-- Total Authors -->
                    <VBox styleClass="states-card"
                        style="-fx-background-color: #5D647B; -fx-padding: 20;"
                        GridPane.rowIndex="0" GridPane.columnIndex="1" alignment="TOP_LEFT">
                        <Label fx:id="totalAuthorsLabel" text="0"
                            style="-fx-font-size: 44px; -fx-font-weight: bold; -fx-text-fill: #fafafc;" />
                        <Pane VBox.vgrow="ALWAYS" />
                        <Label text="Total Authors"
                            style="-fx-font-size: 20px; -fx-font-weight: semi-bold; -fx-text-fill: #fafafc;" />
                    </VBox>

                    <!-- Total Genres -->
                    <VBox styleClass="states-card"
                        style="-fx-background-color: #476283; -fx-padding: 20;"
                        GridPane.rowIndex="1" GridPane.columnIndex="0" alignment="TOP_LEFT">
                        <Label fx:id="totalGenresLabel" text="0"
                            style="-fx-font-size: 44px; -fx-font-weight: bold; -fx-text-fill: #fafafc;" />
                        <Pane VBox.vgrow="ALWAYS" />
                        <Label text="Total Genres"
                            style="-fx-font-size: 20px; -fx-font-weight: semi-bold; -fx-text-fill: #fafafc;" />
                    </VBox>

                    <!-- Total Users -->
                    <VBox styleClass="states-card"
                        style="-fx-background-color: #AC575F; -fx-padding: 20;"
                        GridPane.rowIndex="1" GridPane.columnIndex="1" alignment="TOP_LEFT">
                        <Label fx:id="totalUsersLabel" text="0"
                            style="-fx-font-size: 44px; -fx-font-weight: bold; -fx-text-fill: #fafafc;" />
                        <Pane VBox.vgrow="ALWAYS" />
                        <Label text="Total Users"
                            style="-fx-font-size: 20px; -fx-font-weight: semi-bold; -fx-text-fill: #fafafc;" />
                    </VBox>
                </GridPane>
            </VBox>

            <!-- Right Info Cards -->
            <VBox spacing="20" alignment="TOP_CENTER" prefWidth="320" prefHeight="270"
                VBox.vgrow="ALWAYS">
                <!-- Total Due / Overdue -->
                <VBox alignment="CENTER" styleClass="states-card"
                    style="-fx-background-color: #457B7A; -fx-padding: 2;"
                    prefHeight="77">
                    <Label fx:id="totalDueOverdueLabel" text="0/0"
                        style="-fx-font-size: 38px; -fx-font-weight: bold; -fx-text-fill: #fafafc;" />
                    <Label text="Total Due / Overdue"
                        style="-fx-font-size: 16px; -fx-font-weight: semi-bold; -fx-text-fill: #fafafc;"
                        translateY="-6" />
                </VBox>

                <!-- Total New User -->
                <VBox alignment="CENTER" styleClass="states-card"
                    style="-fx-background-color: #AC575F; -fx-padding: 2;"
                    prefHeight="77">
                    <Label fx:id="totalNewUserLabel" text="0"
                        style="-fx-font-size: 38px; -fx-font-weight: bold; -fx-text-fill: #fafafc;" />
                    <Label text="Total New User"
                        style="-fx-font-size: 16px; -fx-font-weight: semi-bold; -fx-text-fill: #fafafc;"
                        translateY="-6" />
                </VBox>

                <!-- Total Unavailable Books -->
                <VBox alignment="CENTER" styleClass="states-card"
                    style="-fx-background-color: #476283; -fx-padding: 2;"
                    prefHeight="77">
                    <Label fx:id="totalUnavailableBooksLabel" text="0"
                        style="-fx-font-size: 38px; -fx-font-weight: bold; -fx-text-fill: #fafafc;" />
                    <Label text="Total Unavailable Books"
                        style="-fx-font-size: 16px; -fx-font-weight: semi-bold; -fx-text-fill: #fafafc;"
                        translateY="-6" />
                </VBox>
            </VBox>

        </HBox>

        <!-- Bottom Leaderboard Row -->
        <HBox spacing="20" alignment="CENTER_LEFT" style="-fx-background-color: #EEF1F5;"
            prefHeight="600" translateY="-20">
            <LineChart fx:id="userLineChart"
                VBox.vgrow="ALWAYS"
                prefHeight="400"
                minHeight="400"
                maxHeight="Infinity"
                prefWidth="800"
                animated="true"
                legendVisible="false"
                createSymbols="true"
                styleClass="custom-line-chart">
                <xAxis>
                    <NumberAxis label="" />
                </xAxis>
                <yAxis>
                    <NumberAxis label="" />
                </yAxis>
            </LineChart>

            <VBox fx:id="legendBox" spacing="15" alignment="CENTER_LEFT" prefWidth="180" />
        </HBox>

    </VBox>
</AnchorPane>